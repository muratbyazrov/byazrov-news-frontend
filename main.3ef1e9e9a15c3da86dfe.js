!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=91)}([function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||Function("return this")()}).call(this,r(46))},function(e,t){const r={isLoggedIn:localStorage.getItem("isloggedIn"),userName:localStorage.getItem("userName"),page:void 0,userId:localStorage.getItem("userId")};e.exports={emailRules:{required:{required:!0,message:"Это обязательное поле"},email:{email:!0,message:"Неправильный формат email"}},passwordRules:{required:{required:!0,message:"Это обязательное поле"},alphaNumeric:{alphaNumeric:!0,message:"Пароль может содеражить только буквы и цифры"},min:{min:8,message:"Пароль должен содержать не менее 8 символов"}},nameRules:{required:{required:!0,message:"Это обязательное поле"},min:{min:2,message:"Имя должно содержать не менее 2 символов"}},logProps:r}},function(e,t,r){var n=r(0),i=r(11),o=r(32),s=r(62),a=n.Symbol,u=i("wks");e.exports=function(e){return u[e]||(u[e]=s&&a[e]||(s?a:o)("Symbol."+e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(4);e.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(3);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){var n=r(6),i=r(10),o=r(23);e.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(6),i=r(27),o=r(8),s=r(26),a=Object.defineProperty;t.f=n?a:function(e,t,r){if(o(e),t=s(t,!0),o(r),i)try{return a(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(29),i=r(48);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.1",mode:n?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(52),i=r(0),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e])||o(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r(15);class n{constructor(){}signup(e,t,r){return fetch("https://api.byazrov-news.ga/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:""+e,password:""+t,name:""+r})})}signin(e,t){return fetch("https://api.byazrov-news.ga/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:""+e,password:""+t})})}signout(){return fetch("https://api.byazrov-news.ga/signout",{method:"POST",credentials:"include",withCredentials:!0,headers:{"Content-Type":"application/json"}})}createArticle(e,t,r,n,i,o,s){return fetch("https://api.byazrov-news.ga/articles",{method:"POST",credentials:"include",withCredentials:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword:""+e,title:""+t,text:""+r,date:""+n,source:""+i,link:""+o,image:""+s})})}getUserData(){return fetch("https://api.byazrov-news.ga/users/me",{method:"GET",credentials:"include",withCredentials:!0,headers:{authorization:document.cookie,"Content-Type":"application/json"}})}getArticles(){return fetch("https://api.byazrov-news.ga/articles",{method:"GET",credentials:"include",withCredentials:!0})}removeArticle(e){return fetch("https://api.byazrov-news.ga/articles/"+e,{method:"DELETE",credentials:"include",withCredentials:!0,headers:{"Content-Type":"application/json"}})}}},function(e,t,r){"use strict";var n,i,o,s,a=r(22),u=r(29),c=r(0),l=r(12),d=r(59),p=r(18),h=r(60),f=r(11),m=r(61),g=r(63),v=r(3),y=r(13),x=r(64),b=r(7),S=r(65),w=r(70),F=r(71),_=r(38).set,E=r(73),L=r(74),A=r(75),C=r(41),M=r(76),T=r(31),k=r(36),P=r(2),D=r(77),N=P("species"),j="Promise",O=T.get,B=T.set,I=T.getterFor(j),$=d,z=c.TypeError,R=c.document,q=c.process,H=f("inspectSource"),U=l("fetch"),V=C.f,Z=V,G="process"==b(q),J=!!(R&&R.createEvent&&c.dispatchEvent),W=k(j,(function(){var e=H($)!==String($);if(66===D)return!0;if(!e&&!G&&"function"!=typeof PromiseRejectionEvent)return!0;if(u&&!$.prototype.finally)return!0;if(D>=51&&/native code/.test($))return!1;var t=$.resolve(1),r=function(e){e((function(){}),(function(){}))};return(t.constructor={})[N]=r,!(t.then((function(){}))instanceof r)})),Y=W||!w((function(e){$.all(e).catch((function(){}))})),K=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},Q=function(e,t,r){if(!t.notified){t.notified=!0;var n=t.reactions;E((function(){for(var i=t.value,o=1==t.state,s=0;n.length>s;){var a,u,c,l=n[s++],d=o?l.ok:l.fail,p=l.resolve,h=l.reject,f=l.domain;try{d?(o||(2===t.rejection&&re(e,t),t.rejection=1),!0===d?a=i:(f&&f.enter(),a=d(i),f&&(f.exit(),c=!0)),a===l.promise?h(z("Promise-chain cycle")):(u=K(a))?u.call(a,p,h):p(a)):h(i)}catch(e){f&&!c&&f.exit(),h(e)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&ee(e,t)}))}},X=function(e,t,r){var n,i;J?((n=R.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},(i=c["on"+e])?i(n):"unhandledrejection"===e&&A("Unhandled promise rejection",r)},ee=function(e,t){_.call(c,(function(){var r,n=t.value;if(te(t)&&(r=M((function(){G?q.emit("unhandledRejection",n,e):X("unhandledrejection",e,n)})),t.rejection=G||te(t)?2:1,r.error))throw r.value}))},te=function(e){return 1!==e.rejection&&!e.parent},re=function(e,t){_.call(c,(function(){G?q.emit("rejectionHandled",e):X("rejectionhandled",e,t.value)}))},ne=function(e,t,r,n){return function(i){e(t,r,i,n)}},ie=function(e,t,r,n){t.done||(t.done=!0,n&&(t=n),t.value=r,t.state=2,Q(e,t,!0))},oe=function(e,t,r,n){if(!t.done){t.done=!0,n&&(t=n);try{if(e===r)throw z("Promise can't be resolved itself");var i=K(r);i?E((function(){var n={done:!1};try{i.call(r,ne(oe,e,n,t),ne(ie,e,n,t))}catch(r){ie(e,n,r,t)}})):(t.value=r,t.state=1,Q(e,t,!1))}catch(r){ie(e,{done:!1},r,t)}}};W&&($=function(e){x(this,$,j),y(e),n.call(this);var t=O(this);try{e(ne(oe,this,t),ne(ie,this,t))}catch(e){ie(this,t,e)}},(n=function(e){B(this,{type:j,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h($.prototype,{then:function(e,t){var r=I(this),n=V(F(this,$));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=G?q.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Q(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=O(e);this.promise=e,this.resolve=ne(oe,e,t),this.reject=ne(ie,e,t)},C.f=V=function(e){return e===$||e===o?new i(e):Z(e)},u||"function"!=typeof d||(s=d.prototype.then,p(d.prototype,"then",(function(e,t){var r=this;return new $((function(e,t){s.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof U&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return L($,U.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:W},{Promise:$}),m($,j,!1,!0),g(j),o=l(j),a({target:j,stat:!0,forced:W},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),a({target:j,stat:!0,forced:u||W},{resolve:function(e){return L(u&&this===o?$:this,e)}}),a({target:j,stat:!0,forced:Y},{all:function(e){var t=this,r=V(t),n=r.resolve,i=r.reject,o=M((function(){var r=y(t.resolve),o=[],s=0,a=1;S(e,(function(e){var u=s++,c=!1;o.push(void 0),a++,r.call(t,e).then((function(e){c||(c=!0,o[u]=e,--a||n(o))}),i)})),--a||n(o)}));return o.error&&i(o.value),r.promise},race:function(e){var t=this,r=V(t),n=r.reject,i=M((function(){var i=y(t.resolve);S(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},function(e,t,r){var n=r(6),i=r(47),o=r(23),s=r(17),a=r(26),u=r(5),c=r(27),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=s(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,r){var n=r(24),i=r(25);e.exports=function(e){return n(i(e))}},function(e,t,r){var n=r(0),i=r(11),o=r(9),s=r(5),a=r(19),u=r(30),c=r(31),l=c.get,d=c.enforce,p=String(u).split("toString");i("inspectSource",(function(e){return u.call(e)})),(e.exports=function(e,t,r,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof r&&("string"!=typeof t||s(r,"name")||o(r,"name",t),d(r).source=p.join("string"==typeof t?t:"")),e!==n?(u?!l&&e[t]&&(c=!0):delete e[t],c?e[t]=r:o(e,t,r)):c?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||u.call(this)}))},function(e,t,r){var n=r(0),i=r(9);e.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(35),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},function(e,t,r){var n=r(13);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(0),i=r(16).f,o=r(9),s=r(18),a=r(19),u=r(34),c=r(36);e.exports=function(e,t){var r,l,d,p,h,f=e.target,m=e.global,g=e.stat;if(r=m?n:g?n[f]||a(f,{}):(n[f]||{}).prototype)for(l in t){if(p=t[l],d=e.noTargetGet?(h=i(r,l))&&h.value:r[l],!c(m?l:f+(g?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),s(r,l,p,e)}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,r){var n=r(4),i=r(7),o="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(3);e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(6),i=r(4),o=r(28);e.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(0),i=r(3),o=n.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},function(e,t){e.exports=!1},function(e,t,r){var n=r(11);e.exports=n("native-function-to-string",Function.toString)},function(e,t,r){var n,i,o,s=r(49),a=r(0),u=r(3),c=r(9),l=r(5),d=r(50),p=r(33),h=a.WeakMap;if(s){var f=new h,m=f.get,g=f.has,v=f.set;n=function(e,t){return v.call(f,e,t),t},i=function(e){return m.call(f,e)||{}},o=function(e){return g.call(f,e)}}else{var y=d("state");p[y]=!0,n=function(e,t){return c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:n,get:i,has:o,enforce:function(e){return o(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t){e.exports={}},function(e,t,r){var n=r(5),i=r(51),o=r(16),s=r(10);e.exports=function(e,t){for(var r=i(t),a=s.f,u=o.f,c=0;c<r.length;c++){var l=r[c];n(e,l)||a(e,l,u(t,l))}}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(4),i=/#|\.prototype\./,o=function(e,t){var r=a[s(e)];return r==c||r!=u&&("function"==typeof t?n(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t){e.exports={}},function(e,t,r){var n,i,o,s=r(0),a=r(4),u=r(7),c=r(21),l=r(72),d=r(28),p=r(39),h=s.location,f=s.setImmediate,m=s.clearImmediate,g=s.process,v=s.MessageChannel,y=s.Dispatch,x=0,b={},S=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},w=function(e){return function(){S(e)}},F=function(e){S(e.data)},_=function(e){s.postMessage(e+"",h.protocol+"//"+h.host)};f&&m||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return b[++x]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(x),x},m=function(e){delete b[e]},"process"==u(g)?n=function(e){g.nextTick(w(e))}:y&&y.now?n=function(e){y.now(w(e))}:v&&!p?(o=(i=new v).port2,i.port1.onmessage=F,n=c(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(_)?n="onreadystatechange"in d("script")?function(e){l.appendChild(d("script")).onreadystatechange=function(){l.removeChild(this),S(e)}}:function(e){setTimeout(w(e),0)}:(n=_,s.addEventListener("message",F,!1))),e.exports={set:f,clear:m}},function(e,t,r){var n=r(40);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(e,t,r){var n=r(12);e.exports=n("navigator","userAgent")||""},function(e,t,r){"use strict";var n=r(13),i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n{constructor(e,t){this.headerButton=t,this.authorizButton=e.authorizButton,this.headerMenu=e.headerMenu,this.savedArticlesButton=e.savedArticlesButton}render(e){"true"===e.isLoggedIn?(this.savedArticlesButton.classList.add("display"),this.headerButton.value=e.userName+" [🡢",this.headerButton.classList.remove("none-display"),this.hiddenAuthorizButton()):"false"===e.isLoggedIn&&(this.savedArticlesButton.classList.remove("display"),this.headerButton.classList.add("none-display"),this.authorizButton.classList.remove("none-display"))}hiddenAuthorizButton(){this.authorizButton&&this.authorizButton.classList.add("none-display")}menuOpen(e){this.headerMenu.classList.toggle("display"),e.target.classList.toggle("header__menu-closer")}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));const n=r(78);class i{constructor(e,t,r){this.logProps=e,this.searchField=t,this.mainApi=r}setMessage(){let e="";return"true"===this.logProps.isLoggedIn&&"main"===this.logProps.page?e="Сохранить":"false"===this.logProps.isLoggedIn&&"main"===this.logProps.page?e="Войдите, чтобы сохранять статьи":"true"===this.logProps.isLoggedIn&&"saved"===this.logProps.page&&(e="Удалить"),e}renderIcon(e){e.classList.toggle("saved-card")}setClassnameIcon(){return"main"===this.logProps.page?"card__button_save":"saved"===this.logProps.page?"card__button_delete":void 0}createCard(e,t,r,i,o,s,a,u){const c=document.createElement("div");c.classList.add("card"),c.id=u,i="main"===this.logProps.page?n(i,"dd mmmm, yyyy"):i;const l=this.setMessage(),d=this.setClassnameIcon(),p="main"===this.logProps.page?"":`<h4 class="card__keyword"> ${e} </h4>`;return c.insertAdjacentHTML("afterbegin",`<a class = 'card__link' href=${s} target = 'new'>\n        <div class="card__head">\n          <img src="${a}" class="card__image" alt="картинка к новости">\n          <div class="card__button ${d}" data-title='${l}'></div>\n           ${p}\n        </div>\n\n        <div class="card__details">\n          <p class="card__date"> ${i} </p>\n          <h3 class="card__title"> ${t} </h3>\n          <p class="card__text"> ${r} </p>\n          <p class="card__source"> ${o} </p>\n      </div>\n    </a>`),c}savedCard(e){const t=e.target.parentNode.parentNode;if(e.target.classList.contains("card__button")&&!e.target.classList.contains("saved-card")){e.preventDefault();const r=this.searchField.value,n=t.querySelector(".card__title").textContent,i=t.querySelector(".card__text").textContent,o=t.querySelector(".card__date").textContent,s=t.querySelector(".card__source").textContent,a=t.href,u=t.querySelector(".card__image").src;this.mainApi.createArticle(r,n,i,o,s,a,u).then(t=>{if(t.ok)return this.renderIcon(e.target),t.json()}).then(e=>{t.parentNode.id=e.data._id}).catch(e=>{console.log(e)})}else e.target.classList.contains("saved-card")&&(e.preventDefault(),this.mainApi.removeArticle(t.parentNode.id).then(()=>{this.renderIcon(e.target)}).catch(e=>{console.log(e)}))}deleteCard(e){const t=e.target.parentNode.parentNode.parentNode;if(e.target.classList.contains("card__button")){e.preventDefault();const r=t.id;this.mainApi.removeArticle(r).then(e=>{e.ok&&t.parentNode.removeChild(t)}).catch(e=>{console.log(e)})}}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r(79),r(80);var n=r(1);class i{constructor(e,t,r,n,i){this.resultBlock=r,this.container=e,this.cardClass=t,this.pageTitle=n,this.pageSubtitle=i,this.keywordArr=[],this.accumCards=[]}renderResults(e){this.clearCardContainer(),0===e.articles.length?(this.hideResultBlock(),this.renderError()):(this.clearResultBlock(),this.showResultBlock(),this.showButton(),e.articles.forEach(e=>{const{keyword:t,title:r}=e,n=e.urlToImage,i=e.publishedAt,o=e.description,s=e.source.name,a=e.url,u=e._id,c=this.cardClass.createCard(t,r,o,i,s,a,n,u);this.addCard(this.container,c)}))}renderSavedArticles(e){let t=0;e.articles.forEach(e=>{const{keyword:r,image:i,date:o,title:s,text:a,source:u,link:c,owner:l}=e,d=e._id;if(n.logProps.userId===l){const e=this.cardClass.createCard(r,s,a,o,u,c,i,d);this.addCard(this.container,e),this.renderSubtitle(r),t+=1}}),this.renderArticlesInfo(t)}renderError(){this.clearResultBlock();const e=document.createElement("div");e.classList.add("not-found"),e.insertAdjacentHTML("afterbegin",'<div class="not-found__icon"></div>\n    <h3 class="not-found__title">Ничего не найдено</h3>\n    <p class="not-found__subtitle">К сожалению по вашему запросу ничего не найдено.</p>'),this.resultBlock.appendChild(e)}renderLoader(){this.clearResultBlock(),this.clearLoader();const e=document.createElement("div");e.classList.add("loader-block"),e.insertAdjacentHTML("afterbegin",'<i class="loader-block__circle-preloader"></i>\n    <h3 class="loader-block__title">Идет поиск новостей...</h3>'),this.resultBlock.insertBefore(e,this.resultBlock.firstChild)}showResultBlock(){this.container.parentNode.classList.add("display")}hideResultBlock(){this.container.parentNode.classList.remove("display")}clearResultBlock(){null!=this.resultBlock.querySelector(".not-found")&&this.resultBlock.querySelector(".not-found").remove()}clearLoader(){null!=this.resultBlock.querySelector(".loader-block")&&this.resultBlock.querySelector(".loader-block").remove()}clearCardContainer(){this.container.innerHTML=""}renderArticlesInfo(e){this.pageTitle.textContent=`${n.logProps.userName}, у вас ${e} сохранённых статей`}renderSubtitle(e){this.keywordArr.push(e),this.keywordArr=this.keywordArr.sort().filter((e,t)=>e!==this.keywordArr[t+1]);const t=this.keywordArr.length<=3?this.keywordArr[2]:this.keywordArr.length-2+" другим";switch(this.keywordArr.length){case 1:this.pageSubtitle.textContent="По ключевому слову "+this.keywordArr[0];break;case 2:this.pageSubtitle.textContent=`По ключевым словам ${this.keywordArr[0]} и ${this.keywordArr[1]}`;break;default:this.pageSubtitle.textContent=`По ключевым словам ${this.keywordArr[0]}, ${this.keywordArr[1]} и ${t}`}}addCard(e,t){e.childNodes.length<=2&&"main"===n.logProps.page?e.appendChild(t):e.childNodes.length>=3&&"main"===n.logProps.page?this.accumCards.push(t):e.appendChild(t)}showMore(){if(this.accumCards.length>0){const e=this.accumCards.length>=3?3:this.accumCards.length;for(let t=0;t<e;t++)this.container.appendChild(this.accumCards[0]),this.accumCards.splice(0,1)}else this.hideButton()}hideButton(){this.resultBlock.querySelector(".result__button").classList.add("none-display")}showButton(){this.resultBlock.querySelector(".result__button").classList.remove("none-display")}}},function(e,t,r){},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(0),i=r(19),o=n["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,r){var n=r(0),i=r(30),o=n.WeakMap;e.exports="function"==typeof o&&/native code/.test(i.call(o))},function(e,t,r){var n=r(11),i=r(32),o=n("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,r){var n=r(12),i=r(53),o=r(58),s=r(8);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(s(e)),r=o.f;return r?t.concat(r(e)):t}},function(e,t,r){e.exports=r(0)},function(e,t,r){var n=r(54),i=r(57).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},function(e,t,r){var n=r(5),i=r(17),o=r(55).indexOf,s=r(33);e.exports=function(e,t){var r,a=i(e),u=0,c=[];for(r in a)!n(s,r)&&n(a,r)&&c.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~o(c,r)||c.push(r));return c}},function(e,t,r){var n=r(17),i=r(20),o=r(56),s=function(e){return function(t,r,s){var a,u=n(t),c=i(u.length),l=o(s,c);if(e&&r!=r){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,r){var n=r(35),i=Math.max,o=Math.min;e.exports=function(e,t){var r=n(e);return r<0?i(r+t,0):o(r,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(0);e.exports=n.Promise},function(e,t,r){var n=r(18);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},function(e,t,r){var n=r(10).f,i=r(5),o=r(2)("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},function(e,t,r){var n=r(4);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,r){"use strict";var n=r(12),i=r(10),o=r(2),s=r(6),a=o("species");e.exports=function(e){var t=n(e),r=i.f;s&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n=r(8),i=r(66),o=r(20),s=r(21),a=r(67),u=r(69),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,r,l,d){var p,h,f,m,g,v,y,x=s(t,r,l?2:1);if(d)p=e;else{if("function"!=typeof(h=a(e)))throw TypeError("Target is not iterable");if(i(h)){for(f=0,m=o(e.length);m>f;f++)if((g=l?x(n(y=e[f])[0],y[1]):x(e[f]))&&g instanceof c)return g;return new c(!1)}p=h.call(e)}for(v=p.next;!(y=v.call(p)).done;)if("object"==typeof(g=u(p,x,y.value,l))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,r){var n=r(2),i=r(37),o=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},function(e,t,r){var n=r(68),i=r(37),o=r(2)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){var n=r(7),i=r(2)("toStringTag"),o="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,r){var n=r(8);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){var o=e.return;throw void 0!==o&&n(o.call(e)),t}}},function(e,t,r){var n=r(2)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[n]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},function(e,t,r){var n=r(8),i=r(13),o=r(2)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||null==(r=n(s)[o])?t:i(r)}},function(e,t,r){var n=r(12);e.exports=n("document","documentElement")},function(e,t,r){var n,i,o,s,a,u,c,l,d=r(0),p=r(16).f,h=r(7),f=r(38).set,m=r(39),g=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,x="process"==h(v),b=p(d,"queueMicrotask"),S=b&&b.value;S||(n=function(){var e,t;for(x&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():o=void 0,e}}o=void 0,e&&e.enter()},x?s=function(){v.nextTick(n)}:g&&!m?(a=!0,u=document.createTextNode(""),new g(n).observe(u,{characterData:!0}),s=function(){u.data=a=!a}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,s=function(){l.call(c,n)}):s=function(){f.call(d,n)}),e.exports=S||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(e,t,r){var n=r(8),i=r(3),o=r(41);e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(0);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,r){var n,i,o=r(0),s=r(40),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(n=c.split("."))[0]+n[1]:s&&(!(n=s.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/))&&(i=n[1]),e.exports=i&&+i},function(e,t,r){var n;!function(i){"use strict";var o,s,a,u=(o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,function(e,t,r,n){if(1!==arguments.length||"string"!==p(e)||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var i=(t=String(u.masks[t]||t||u.masks.default)).slice(0,4);"UTC:"!==i&&"GMT:"!==i||(t=t.slice(4),r=!0,"GMT:"===i&&(n=!0));var h=r?"getUTC":"get",f=e[h+"Date"](),m=e[h+"Day"](),g=e[h+"Month"](),v=e[h+"FullYear"](),y=e[h+"Hours"](),x=e[h+"Minutes"](),b=e[h+"Seconds"](),S=e[h+"Milliseconds"](),w=r?0:e.getTimezoneOffset(),F=l(e),_=d(e),E={d:f,dd:c(f),ddd:u.i18n.dayNames[m],dddd:u.i18n.dayNames[m+7],m:g+1,mm:c(g+1),mmm:u.i18n.monthNames[g],mmmm:u.i18n.monthNames[g+12],yy:String(v).slice(2),yyyy:v,h:y%12||12,hh:c(y%12||12),H:y,HH:c(y),M:x,MM:c(x),s:b,ss:c(b),l:c(S,3),L:c(Math.round(S/10)),t:y<12?u.i18n.timeNames[0]:u.i18n.timeNames[1],tt:y<12?u.i18n.timeNames[2]:u.i18n.timeNames[3],T:y<12?u.i18n.timeNames[4]:u.i18n.timeNames[5],TT:y<12?u.i18n.timeNames[6]:u.i18n.timeNames[7],Z:n?"GMT":r?"UTC":(String(e).match(s)||[""]).pop().replace(a,""),o:(w>0?"-":"+")+c(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),S:["th","st","nd","rd"][f%10>3?0:(f%100-f%10!=10)*f%10],W:F,N:_};return t.replace(o,(function(e){return e in E?E[e]:e.slice(1,e.length-1)}))});function c(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function l(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var r=new Date(t.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=t.getTimezoneOffset()-r.getTimezoneOffset();t.setHours(t.getHours()-n);var i=(t-r)/6048e5;return 1+Math.floor(i)}function d(e){var t=e.getDay();return 0===t&&(t=7),t}function p(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}u.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","января","февраля","марта","апреля","мaя","июня","июля","августа","сентября","октября","ноября","декабря"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){"use strict";var n=r(22),i=r(6),o=r(0),s=r(5),a=r(3),u=r(10).f,c=r(34),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};c(p,l);var h=p.prototype=l.prototype;h.constructor=p;var f=h.toString,m="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(h,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=f.call(e);if(s(d,e))return"";var r=m?t.slice(7,-1):t.replace(g,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},function(e,t,r){var n=r(0),i=r(81),o=r(82),s=r(9);for(var a in i){var u=n[a],c=u&&u.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(e){c.forEach=o}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){"use strict";var n=r(83).forEach,i=r(87);e.exports=i("forEach")?function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,r){var n=r(21),i=r(24),o=r(84),s=r(20),a=r(85),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,d=6==e,p=5==e||d;return function(h,f,m,g){for(var v,y,x=o(h),b=i(x),S=n(f,m,3),w=s(b.length),F=0,_=g||a,E=t?_(h,w):r?_(h,0):void 0;w>F;F++)if((p||F in b)&&(y=S(v=b[F],F,x),e))if(t)E[F]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return F;case 2:u.call(E,v)}else if(l)return!1;return d?-1:c||l?l:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,r){var n=r(25);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(3),i=r(86),o=r(2)("species");e.exports=function(e,t){var r;return i(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!i(r.prototype)?n(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){var n=r(7);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){"use strict";var n=r(4);e.exports=function(e,t){var r=[][e];return!r||!n((function(){r.call(null,t||function(){throw 1},1)}))}},function(e,t,r){"use strict";r.r(t),r.d(t,"mainApi",(function(){return i})),r.d(t,"loginCheck",(function(){return s})),r.d(t,"signout",(function(){return a}));r(15);var n=r(1);const i=new(r(14).a);function o(){n.logProps.isLoggedIn=localStorage.getItem("isloggedIn"),n.logProps.userName=localStorage.getItem("userName")}async function s(){i.getUserData().then(e=>{e.ok?e.json().then(e=>{localStorage.setItem("isloggedIn",!0),localStorage.setItem("userName",e.data.name),localStorage.setItem("userId",e.data._id),o()}):(localStorage.setItem("isloggedIn",!1),localStorage.setItem("userName",void 0),o())}).catch(()=>{console.log("Ошибка предварительной авторизации")})}function a(){i.signout().then(e=>{"saved"===n.logProps.page&&(document.location.href="index.html"),e.ok&&(localStorage.setItem("isloggedIn",!1),localStorage.setItem("userName",void 0),o(),window.location.reload())}).catch(()=>{console.log("ошибка при выходе из аккаунта")})}},function(e,t,r){e.exports=function(){"use strict";function e(){this.scheme="",this.valid=!1}function t(e){this.strength=e,this.points=0,this.isMinimum=!1,this.hasLower=!1,this.hasUpper=!1,this.hasNumber=!1,this.hasSpecial=!1,this.isBonus=!1,this.percent=0,this.valid=!1,this.errors=[]}var r={message:"{title} is not a valid credit card number",schemes:[{regex:/^(5610|560221|560222|560223|560224|560225)/,scheme:"Australian Bank Card"},{regex:/^(2014|2149)/,scheme:"Diner's Club"},{regex:/^36/,scheme:"Diner's Club International"},{regex:/^(30[0-5]|36|38|54|55|2014|2149)/,scheme:"Diner's Club / Carte Blanche"},{regex:/^35(2[89]|[3-8][0-9])/,scheme:"Japanese Credit Bureau"},{regex:/^(5018|5020|5038|6304|6759|676[1-3])/,scheme:"Maestro"},{regex:/^5[1-5]/,scheme:"Mastercard"},{regex:/^(6304|670[69]|6771)/,scheme:"Laser"},{regex:/^(6334|6767)/,scheme:"Solo (Paymentech)"},{regex:/^(6011|622|64|65)/,scheme:"Discover"},{regex:/^3[47]/,scheme:"American Express"},{regex:/^(4026|417500|4508|4844|491(3|7))/,scheme:"Visa Electron"},{regex:/^(4)/,scheme:"Visa"}],_getScheme:function(e){e=(""+e).replace(/\D/g,"");for(var t=this.schemes.length;t--;)if(this.schemes[t].regex.test(e))return this.schemes[t].scheme},validate:function(t){t=(""+t).replace(/\D/g,"");var r,n=new e,i=t.length,o=0,s=1;if(i<12)return!1;for(;i--;)o+=(r=t.charAt(i)*s)-9*(r>9),s^=3;return n.valid=o%10==0&&o>0,n.scheme=this._getScheme(t),n}},n={minimum:8,minimumBonus:10,strengths:{0:"Very Weak",1:"Weak",2:"Better",3:"Almost",4:"Acceptable",5:"Strong",6:"Very Strong"},message:"{title} did not pass the strength test.",expects:["min","bonus"],errors:{isMinimum:"{title} must be at least {min} characters",hasLower:"{title} must have at least 1 lower case character",hasUpper:"{title} must have at least 1 upper case character",hasNumber:"{title} must have at least 1 number",hasSpecial:"{title} must have at least 1 special character"},_getScore:function(e){var r=new t(this.strengths[0]);return e.length>this.minimumBonus?(r.points+=2,r.isBonus=!0,r.isMinimum=!0):e.length>this.minimum?(r.points++,r.isMinimum=!0):(r.points=1,r.isMinimum=!1),r.hasLower=null!==e.match(/[a-z]/),r.isMinimum&&r.hasLower&&r.points++,r.hasUpper=null!==e.match(/[A-Z]/),r.isMinimum&&r.hasUpper&&r.points++,r.hasNumber=null!==e.match(/\d+/),r.isMinimum&&r.hasNumber&&r.points++,r.hasSpecial=null!==e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/),r.isMinimum&&r.hasSpecial&&r.points++,r.percent=Math.ceil(r.points/6*100),r},_getStrength:function(e){var t=this._getScore(e);return t.strength=this.strengths[t.points],t.isMinimum||t.errors.push(this.errors.isMinimum),t.hasLower||t.errors.push(this.errors.hasLower),t.hasUpper||t.errors.push(this.errors.hasUpper),t.hasSpecial||t.errors.push(this.errors.hasSpecial),t.hasNumber||t.errors.push(this.errors.hasNumber),t.points>4&&(t.valid=!0),t},validate:function(e,t){if(this.minimum=t.min||this.minimum,this.minimumBonus=t.bonus||this.minimumBonus,t.hasOwnProperty("config")&&t.config.hasOwnProperty("messages"))for(var r in t.config.messages)t.config.messages.hasOwnProperty(r)&&(this.errors[r]=t.config.messages[r]);return this._getStrength(e)}},i=function(){this.approved=!0,this.errors=[],this.failed=[],this.each=function(e){for(var t=e&&e.constructor&&e.call&&e.apply,r=this.errors.length;r--;)t&&e(this.errors[r])},this.filter=function(e,t){var r=t&&t.constructor&&t.call&&t.apply,n=0;if(this.hasOwnProperty(e))for(n=this[e].errors.length;n--;)r&&t(this[e].errors[n])}};return{tests:{required:{validate:function(e){return!!e},message:"{title} is required",expects:!1},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,validate:function(e){return this.regex.test(e)},message:"{title} must be a valid email address",expects:!1},url:{regex:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,validate:function(e){return this.regex.test(e)},message:"{title} must be a valid web address",expects:!1},alphaNumeric:{regex:/^[A-Za-z0-9]+$/i,validate:function(e){return this.regex.test(e)},message:"{title} may only contain [A-Za-z] and [0-9]",expects:!1},numeric:{regex:/^-?[0-9]+$/,validate:function(e){return this.regex.test(e)},message:"{title} may only contain [0-9]",expects:!1},alpha:{regex:/^[A-Za-z]+$/,validate:function(e){return this.regex.test(e)},message:"{title} may only contain [A-Za-z]",expects:!1},decimal:{regex:/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/,validate:function(e){return this.regex.test(e)},message:"{title} must be a valid decimal",expects:!1},currency:{regex:/^\s*(\+|-)?((\d+(\.\d\d)?)|(\.\d\d))\s*$/,validate:function(e){return this.regex.test(e)},message:"{title} must be a valid currency value",expects:!1},ip:{regex:{ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv4Cidr:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/([0-9]|[1-2][0-9]|3[0-2]))$/,ipv6:/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,ipv6Cidr:/^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*(\/([0-9]|[1-9][0-9]|1[0-1][0-9]|12[0-8]))?$/},validate:function(e){return this.regex.ipv4.test(e)||this.regex.ipv6.test(e)||this.regex.ipv4Cidr.test(e)||this.regex.ipv6Cidr.test(e)},message:"{title} must be a valid IP address",expects:!1},min:{validate:function(e,t){return"string"==typeof e&&e.length>=t.min},message:"{title} must be a minimum of {min} characters",expects:["min"]},max:{validate:function(e,t){return"string"==typeof e&&e.length<=t.max},message:"{title} must be a maximum of {max} characters",expects:["max"]},range:{validate:function(e,t){return"string"==typeof e?e.length>=t.min&&e.length<=t.max:"number"==typeof e&&e>=t.min&&e<=t.max},message:"{title} must be a minimum of {min} and a maximum of {max} characters",expects:["min","max"]},equal:{validate:function(e,t){return""+e==""+t.value},message:"{title} must be equal to {field}",expects:["value","field"]},format:{validate:function(e,t){if("[object RegExp]"===Object.prototype.toString.call(t.regex))return t.regex.test(e);throw"approve.value(): [format] - regex is not a valid regular expression."},message:"{title} did not pass the [{regex}] test",expects:["regex"]},time:{regex:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,validate:function(e){return this.regex.test(e)},message:"{title} is not a valid time",expects:!1},date:{formats:{ymd:/^(?:\2)(?:[0-9]{2})?[0-9]{2}([\/-])(1[0-2]|0?[1-9])([\/-])(3[01]|[12][0-9]|0?[1-9])$/,dmy:/^(3[01]|[12][0-9]|0?[1-9])([\/-])(1[0-2]|0?[1-9])([\/-])(?:[0-9]{2})?[0-9]{2}$/},validate:function(e,t){return this.formats[t.format].test(e)},message:"{title} is not a valid date",expects:["format"]},truthy:{regex:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/i,validate:function(e){return this.regex.test(e)},message:"{title} is not valid",expects:!1},falsy:{regex:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/i,validate:function(e){return!this.regex.test(e)},message:"{title} is not valid",expects:!1},cc:r,strength:n},_format:function(e,t){return t="object"==typeof t?t:Array.prototype.slice.call(arguments,1),e.replace(/\{\{|\}\}|\{(\w+)\}/g,(function(e,r){return"{{"===e?"{":"}}"===e?"}":t[r]})).trim()},_isRule:function(e){return["title","stop","ignoreNull"].indexOf(e)<0},_start:function(e,t){var r=new i,n="",o=!1,s=!1;for(var a in t.hasOwnProperty("title")&&(n=t.title),t.hasOwnProperty("stop")&&(o=t.stop),t.hasOwnProperty("ignoreNull")&&(s=t.ignoreNull),t){if(o&&!r.approved)break;if(t.hasOwnProperty(a)&&this._isRule(a)){var u=t[a];if(!this.tests.hasOwnProperty(a))throw"approve.value(): "+a+" test not defined.";var c={constraint:u,rule:a,title:n,test:this.tests[a],value:e,ignoreNull:s};this._test(c,r)}}return r},_test:function(e,t){if(!e.hasOwnProperty("ignoreNull")||e.value||!e.ignoreNull){var r=this._getArgs(e),n=e.test.validate(e.value,r);if(t[e.rule]={approved:!0,errors:[]},"object"==typeof n){if(t.approved=!!n.valid&&t.approved,t[e.rule].approved=n.valid,n.hasOwnProperty("errors")){var i=this._formatMessages(n.errors,e);t.errors=t.errors.concat(i),t[e.rule].errors=i}for(var o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[e.rule][o]=n[o])}else{if("boolean"!=typeof n)throw"approve.value(): "+e.rule+" returned an invalid value";t.approved=!!n&&t.approved,t[e.rule].approved=n}if(!t.approved){var s=this._formatMessage(e);t.errors.push(s),t[e.rule].errors.push(s)}n.valid||t.failed.push(e.rule)}},_eachExpected:function(e,t){if(Array.isArray(e.test.expects))for(var r=e.test.expects.length,n=r;n--;)t(e.test.expects[n],r)},_getArgs:function(e){var t={};return this._eachExpected(e,(function(r,n){if(e.constraint.hasOwnProperty(r))t[r]=e.constraint[r];else{if(!(n<=1)||!/^[A-Za-z0-9]+$/i.test(e.constraint)&&"[object RegExp]"!==toString.call(e.constraint))throw"approve.value(): "+e.rule+" expects the "+r+" parameter.";t[r]=e.constraint}})),e.constraint.hasOwnProperty("config")&&(t.config=e.constraint.config),t},_getFormat:function(e){var t={};return this._eachExpected(e,(function(r){e.constraint.hasOwnProperty(r)&&(t[r]=e.constraint[r]),/^[A-Za-z0-9]+$/i.test(e.constraint)&&(t[r]=e.constraint)})),t.title=e.title,t},_formatMessages:function(e,t){for(var r=this._getFormat(t),n=e.length;n--;)e[n]=this._format(e[n],r);return e},_formatMessage:function(e){var t,r=this._getFormat(e);return e.constraint.hasOwnProperty("message")?(t=e.constraint.message,this._format(t,r)):(t=e.test.message,this._format(t,r))},value:function(e,t){if("object"!=typeof t)throw"approve.value(value, rules): rules is not a valid object.";return this._start(e,t)},addTest:function(e,t){if("object"!=typeof e)throw"approve.addTest(obj, name): obj is not a valid object.";try{this.tests.hasOwnProperty(t)||(this.tests[t]=e)}catch(e){throw"approve.addTest(): "+e.message}}}}()},,function(e,t,r){"use strict";r.r(t),r.d(t,"popup",(function(){return J})),r.d(t,"mainApi",(function(){return W})),r.d(t,"form",(function(){return Y})),r.d(t,"header",(function(){return K})),r.d(t,"card",(function(){return Q})),r.d(t,"newsList",(function(){return X})),r.d(t,"newsApi",(function(){return ee}));r(45),r(15);const n=r(89);var i=r(14),o=r(42),s=r(43),a=r(44);const u=new Date;const{logProps:c,emailRules:l,passwordRules:d,nameRules:p}=r(1),{signout:h,loginCheck:f}=r(88),m=document.getElementById("popup-login"),g=document.querySelector(".login__form"),v=document.getElementById("email-login"),y=document.getElementById("login-password"),x=document.getElementById("login-button"),b=document.getElementById("server-login-message"),S=document.getElementById("popup-login-close"),w=document.getElementById("popup-signup"),F=document.querySelector(".signup__form"),_=document.getElementById("email-signup"),E=document.getElementById("signup-password"),L=document.getElementById("signup-name"),A=document.getElementById("signup-button"),C=document.getElementById("login"),M=document.getElementById("server-signup-message"),T=document.getElementById("popup-signup-close"),k=document.getElementById("signup"),P=document.getElementById("popup-succes-link"),D=document.getElementById("popup-success-close"),N=document.getElementById("popup-success"),j=document.getElementById("user-name-button"),O=document.querySelector(".header__button"),B=document.querySelector(".header__menu-opener"),I=document.querySelector(".header__menu"),$=document.getElementById("saved-articles"),z=document.querySelector(".result__section"),R=document.querySelector(".result__container"),q=document.querySelector(".result__button"),H=document.querySelector(".search__field"),U=document.querySelector(".search__button"),V={signupSubmit:A,loginSubmit:x,loginEmail:v,loginPassword:y,signupName:L,signupEmail:_,signupPassword:E,emailRules:l,passwordRules:d,nameRules:p,loginServerError:b,signupServerError:M,loginForm:g,signupForm:F},Z={popupLogin:m,popupSignup:w,popupSuccess:N,loginServerError:b,signupServerError:M},G={authorizButton:O,headerMenu:I,savedArticlesButton:$},J=new class{constructor(e){this.popupLogin=e.popupLogin,this.popupSignup=e.popupSignup,this.popupSuccess=e.popupSuccess,this.loginServerError=e.loginServerError,this.signupServerError=e.signupServerError}openLogin(){this.closeSignUp(),this.closeSuccess(),this.popupLogin.classList.add("popup_is-opened")}closeLogin(){this.popupLogin.classList.remove("popup_is-opened"),this.loginServerError.textContent=""}openSignUp(){this.closeLogin(),this.popupSignup.classList.add("popup_is-opened")}closeSignUp(){this.popupSignup.classList.remove("popup_is-opened"),this.signupServerError.textContent=""}openSuccess(){this.closeSignUp(),this.popupSuccess.classList.add("popup_is-opened")}closeSuccess(){this.popupSuccess.classList.remove("popup_is-opened")}}(Z),W=new i.a,Y=new class{constructor(e,t,r,n){this.mainApi=e,this.popup=t,this.signupSubmit=r.signupSubmit,this.loginSubmit=r.loginSubmit,this.loginEmail=r.loginEmail,this.loginPassword=r.loginPassword,this.signupName=r.signupName,this.signupEmail=r.signupEmail,this.signupPassword=r.signupPassword,this.emailRules=r.emailRules,this.passwordRules=r.passwordRules,this.nameRules=r.nameRules,this.loginServerError=r.loginServerError,this.signupServerError=r.signupServerError,this.loginForm=r.loginForm,this.signupForm=r.signupForm,this.loginCheck=n}setServerLoginError(e){e.text().then(e=>JSON.parse(e).message).then(e=>{this.loginServerError.textContent=e})}setServerSignupError(e){e.text().then(e=>JSON.parse(e).message).then(e=>{this.signupServerError.textContent=e})}handlValidate(e){this.validateInputElement(e.target),this.renderLoginForm(),this.renderSignupForm(),this.loginServerError.textContent=""}validateInputElement(e){let t;"email"===e.type?t=n.value(e.value,this.emailRules):"password"===e.type?t=n.value(e.value,this.passwordRules):"text"===e.type&&(t=n.value(e.value,this.nameRules)),this.activateError(t,e)}activateError(e,t){const r=document.getElementById("error-"+t.id);e.approved?r.classList.remove("input-container__invalid"):(r.classList.add("input-container__invalid"),r.textContent=e.errors[0])}renderLoginForm(){n.value(this.loginEmail.value,this.emailRules).approved&&n.value(this.loginPassword.value,this.passwordRules).approved?(this.loginSubmit.classList.add("popup__button_active"),this.loginSubmit.removeAttribute("disabled")):(this.loginSubmit.classList.remove("popup__button_active"),this.loginSubmit.setAttribute("disabled","true"))}renderSignupForm(){n.value(this.signupEmail.value,this.emailRules).approved&&n.value(this.signupPassword.value,this.passwordRules).approved&&n.value(this.signupName.value,this.nameRules).approved?(this.signupSubmit.classList.add("popup__button_active"),this.signupSubmit.removeAttribute("disabled")):(this.signupSubmit.classList.remove("popup__button_active"),this.signupSubmit.setAttribute("disabled","true"))}validateLoginForm(e){e.preventDefault(),this.mainApi.signin(this.loginEmail.value,this.loginPassword.value).then(e=>{if(!e.ok)return Promise.reject(e);this.popup.closeLogin(),this.loginCheck().then(()=>{window.location.reload()})}).catch(e=>{this.setServerLoginError(e)})}validateSignupForm(e){e.preventDefault(),this.mainApi.signup(this.signupEmail.value,this.signupPassword.value,this.signupName.value).then(e=>{if(!e.ok)return Promise.reject(e);this.popup.openSuccess()}).catch(e=>{this.setServerSignupError(e)})}resetLoginForm(){this.loginForm.reset()}resetSignupForm(){this.signupForm.reset()}}(W,J,V,f),K=new o.a(G,j),Q=new s.a(c,H,W),X=new a.a(R,Q,z),ee=new class{constructor(){this.params=""}getNews(e,t){return fetch(`http://newsapi.org/v2/everything?q=${e}&from=${t}&sortBy=popularity&apiKey=0809fef65efa4e06b9681496b0a3fa07`,{method:"GET"})}},te=new class{constructor(e,t){this.newsApi=e,this.newsList=t,this.actualDate=""}startSearch(e){this.newsList.renderLoader(),this.setActualDate(),this.searchNews(e)}searchNews(e){this.newsApi.getNews(e,this.actualDate).then(e=>e.json()).then(e=>{this.newsList.renderResults(e)}).then(()=>{this.newsList.clearLoader()}).catch(e=>{this.newsList.clearLoader(),console.log(e)})}setActualDate(){this.actualDate=`${this.addZero(u.getFullYear())}-${this.addZero(u.getMonth()+1)}-${this.addZero(u.getDate()-7)}`}addZero(e){return e>=0&&e<=9?"0"+e:e}}(ee,X);c.page="main",f().then(()=>{K.render(c)}),v.addEventListener("input",Y.handlValidate.bind(Y)),y.addEventListener("input",Y.handlValidate.bind(Y)),x.addEventListener("click",Y.validateLoginForm.bind(Y)),O.addEventListener("click",J.openLogin.bind(J)),S.addEventListener("click",J.closeLogin.bind(J)),_.addEventListener("input",Y.handlValidate.bind(Y)),E.addEventListener("input",Y.handlValidate.bind(Y)),L.addEventListener("input",Y.handlValidate.bind(Y)),A.addEventListener("click",Y.validateSignupForm.bind(Y)),k.addEventListener("click",J.openSignUp.bind(J)),T.addEventListener("click",J.closeSignUp.bind(J)),C.addEventListener("click",J.openLogin.bind(J)),D.addEventListener("click",J.closeSuccess.bind(J)),P.addEventListener("click",J.openLogin.bind(J)),j.addEventListener("click",h),B.addEventListener("click",K.menuOpen.bind(K)),U.addEventListener("click",e=>{e.preventDefault(),te.startSearch(H.value)}),R.addEventListener("click",Q.savedCard.bind(Q)),q.addEventListener("click",X.showMore.bind(X))}]);