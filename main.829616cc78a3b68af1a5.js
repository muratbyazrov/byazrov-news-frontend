!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(47))},function(e,t){const n={isLoggedIn:localStorage.getItem("isloggedIn"),userName:localStorage.getItem("userName"),page:void 0};e.exports={emailRules:{required:{required:!0,message:"Это обязательное поле"},email:{email:!0,message:"Неправильный формат email"}},passwordRules:{required:{required:!0,message:"Это обязательное поле"},alphaNumeric:{alphaNumeric:!0,message:"Пароль может содеражить только буквы и цифры"},min:{min:8,message:"Пароль должен содержать не менее 8 символов"}},nameRules:{required:{required:!0,message:"Это обязательное поле"},min:{min:2,message:"Имя должно содержать не менее 2 символов"}},logProps:n}},function(e,t,n){var r=n(0),i=n(11),o=n(32),s=n(63),a=r.Symbol,u=i("wks");e.exports=function(e){return u[e]||(u[e]=s&&a[e]||(s?a:o)("Symbol."+e))}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(4);e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(3);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(6),i=n(10),o=n(23);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(6),i=n(27),o=n(8),s=n(26),a=Object.defineProperty;t.f=r?a:function(e,t,n){if(o(e),t=s(t,!0),o(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(29),i=n(49);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.4.1",mode:r?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(53),i=n(0),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";n.r(t),n.d(t,"popup",(function(){return Z})),n.d(t,"mainApi",(function(){return J})),n.d(t,"form",(function(){return W})),n.d(t,"header",(function(){return Y})),n.d(t,"card",(function(){return K})),n.d(t,"newsList",(function(){return Q})),n.d(t,"newsApi",(function(){return X}));n(46),n(21);const r=n(89);var i=n(42),o=n(43),s=n(44),a=n(45);const{logProps:u,emailRules:c,passwordRules:l,nameRules:d}=n(1),{signout:p,searchNews:f,loginCheck:h,actualDate:m}=n(90),g=document.getElementById("popup-login"),v=document.querySelector(".login__form"),y=document.getElementById("email-login"),x=document.getElementById("login-password"),S=document.getElementById("login-button"),b=document.getElementById("server-login-message"),F=document.getElementById("popup-login-close"),w=document.getElementById("popup-signup"),E=document.querySelector(".signup__form"),_=document.getElementById("email-signup"),L=document.getElementById("signup-password"),A=document.getElementById("signup-name"),M=document.getElementById("signup-button"),P=document.getElementById("login"),T=document.getElementById("server-signup-message"),D=document.getElementById("popup-signup-close"),C=document.getElementById("signup"),j=document.getElementById("popup-succes-link"),O=document.getElementById("popup-success-close"),N=document.getElementById("popup-success"),I=document.getElementById("user-name-button"),k=document.querySelector(".header__button"),B=document.querySelector(".header__menu-opener"),$=document.querySelector(".header__menu"),z=document.getElementById("saved-articles"),R=document.querySelector(".result__container"),q=document.querySelector(".search__field"),H=document.querySelector(".search__button"),U={signupSubmit:M,loginSubmit:S,loginEmail:y,loginPassword:x,signupName:A,signupEmail:_,signupPassword:L,emailRules:c,passwordRules:l,nameRules:d,loginServerError:b,signupServerError:T,loginForm:v,signupForm:E},V={popupLogin:g,popupSignup:w,popupSuccess:N,loginServerError:b,signupServerError:T},G={authorizButton:k,headerMenu:$,savedArticlesButton:z},Z=new class{constructor(e){this.popupLogin=e.popupLogin,this.popupSignup=e.popupSignup,this.popupSuccess=e.popupSuccess,this.loginServerError=e.loginServerError,this.signupServerError=e.signupServerError}openLogin(){this.closeSignUp(),this.closeSuccess(),this.popupLogin.classList.add("popup_is-opened")}closeLogin(){this.popupLogin.classList.remove("popup_is-opened"),this.loginServerError.textContent=""}openSignUp(){this.closeLogin(),this.popupSignup.classList.add("popup_is-opened")}closeSignUp(){this.popupSignup.classList.remove("popup_is-opened"),this.signupServerError.textContent=""}openSuccess(){this.closeSignUp(),this.popupSuccess.classList.add("popup_is-opened")}closeSuccess(){this.popupSuccess.classList.remove("popup_is-opened")}}(V),J=new i.a,W=new class{constructor(e,t,n,r){this.mainApi=e,this.popup=t,this.signupSubmit=n.signupSubmit,this.loginSubmit=n.loginSubmit,this.loginEmail=n.loginEmail,this.loginPassword=n.loginPassword,this.signupName=n.signupName,this.signupEmail=n.signupEmail,this.signupPassword=n.signupPassword,this.emailRules=n.emailRules,this.passwordRules=n.passwordRules,this.nameRules=n.nameRules,this.loginServerError=n.loginServerError,this.signupServerError=n.signupServerError,this.loginForm=n.loginForm,this.signupForm=n.signupForm,this.loginCheck=r}setServerLoginError(e){e.text().then(e=>JSON.parse(e).message).then(e=>{this.loginServerError.textContent=e})}setServerSignupError(e){e.text().then(e=>JSON.parse(e).message).then(e=>{this.signupServerError.textContent=e})}handlValidate(e){this.validateInputElement(e.target),this.renderLoginForm(),this.renderSignupForm()}validateInputElement(e){let t;"email"===e.type?t=r.value(e.value,this.emailRules):"password"===e.type?t=r.value(e.value,this.passwordRules):"text"===e.type&&(t=r.value(e.value,this.nameRules)),this.activateError(t,e)}activateError(e,t){const n=document.getElementById("error-"+t.id);e.approved?n.classList.remove("input-container__invalid"):(n.classList.add("input-container__invalid"),n.textContent=e.errors[0])}renderLoginForm(){r.value(this.loginEmail.value,this.emailRules).approved&&r.value(this.loginPassword.value,this.passwordRules).approved?(this.loginSubmit.classList.add("popup__button_active"),this.loginSubmit.removeAttribute("disabled")):(this.loginSubmit.classList.remove("popup__button_active"),this.loginSubmit.setAttribute("disabled","true"))}renderSignupForm(){r.value(this.signupEmail.value,this.emailRules).approved&&r.value(this.signupPassword.value,this.passwordRules).approved&&r.value(this.signupName.value,this.nameRules).approved?(this.signupSubmit.classList.add("popup__button_active"),this.signupSubmit.removeAttribute("disabled")):(this.signupSubmit.classList.remove("popup__button_active"),this.signupSubmit.setAttribute("disabled","true"))}validateLoginForm(e){e.preventDefault(),this.mainApi.signin(this.loginEmail.value,this.loginPassword.value).then(e=>{if(!e.ok)return Promise.reject(e);this.popup.closeLogin(),this.loginCheck()}).catch(e=>{this.setServerLoginError(e)})}validateSignupForm(e){e.preventDefault(),this.mainApi.signup(this.signupEmail.value,this.signupPassword.value,this.signupName.value).then(e=>{if(!e.ok)return Promise.reject(e);this.popup.openSuccess()}).catch(e=>{this.setServerSignupError(e)})}resetLoginForm(){this.loginForm.reset()}resetSignupForm(){this.signupForm.reset()}}(J,Z,U,h),Y=new o.a(G,I),K=new s.a(u,q,J),Q=new a.a(R,K),X=new class{constructor(e,t){this.cardListClass=e,this.actualDate=t}getNews(e){return fetch(`http://newsapi.org/v2/everything?q=${e}&from=${this.actualDate}&sortBy=popularity&apiKey=0809fef65efa4e06b9681496b0a3fa07`,{method:"GET"}).then(e=>e.json()).then(e=>{this.cardListClass.renderResults(e)}).catch(e=>{console.log(e)})}}(Q,m);h(),u.page="main",y.addEventListener("input",W.handlValidate.bind(W)),x.addEventListener("input",W.handlValidate.bind(W)),S.addEventListener("click",W.validateLoginForm.bind(W)),k.addEventListener("click",Z.openLogin.bind(Z)),F.addEventListener("click",Z.closeLogin.bind(Z)),_.addEventListener("input",W.handlValidate.bind(W)),L.addEventListener("input",W.handlValidate.bind(W)),A.addEventListener("input",W.handlValidate.bind(W)),M.addEventListener("click",W.validateSignupForm.bind(W)),C.addEventListener("click",Z.openSignUp.bind(Z)),D.addEventListener("click",Z.closeSignUp.bind(Z)),P.addEventListener("click",Z.openLogin.bind(Z)),O.addEventListener("click",Z.closeSuccess.bind(Z)),j.addEventListener("click",Z.openLogin.bind(Z)),I.addEventListener("click",p),B.addEventListener("click",Y.menuOpen.bind(Y)),H.addEventListener("click",e=>{e.preventDefault(),f(q.value)}),R.addEventListener("click",K.savedCard.bind(K))},function(e,t,n){var r=n(6),i=n(48),o=n(23),s=n(16),a=n(26),u=n(5),c=n(27),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=s(e),t=a(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(24),i=n(25);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(0),i=n(11),o=n(9),s=n(5),a=n(18),u=n(30),c=n(31),l=c.get,d=c.enforce,p=String(u).split("toString");i("inspectSource",(function(e){return u.call(e)})),(e.exports=function(e,t,n,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof t||s(n,"name")||o(n,"name",t),d(n).source=p.join("string"==typeof t?t:"")),e!==r?(u?!l&&e[t]&&(c=!0):delete e[t],c?e[t]=n:o(e,t,n)):c?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||u.call(this)}))},function(e,t,n){var r=n(0),i=n(9);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(35),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(13);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){"use strict";var r,i,o,s,a=n(22),u=n(29),c=n(0),l=n(12),d=n(60),p=n(17),f=n(61),h=n(11),m=n(62),g=n(64),v=n(3),y=n(13),x=n(65),S=n(7),b=n(66),F=n(71),w=n(72),E=n(38).set,_=n(74),L=n(75),A=n(76),M=n(41),P=n(77),T=n(31),D=n(36),C=n(2),j=n(78),O=C("species"),N="Promise",I=T.get,k=T.set,B=T.getterFor(N),$=d,z=c.TypeError,R=c.document,q=c.process,H=h("inspectSource"),U=l("fetch"),V=M.f,G=V,Z="process"==S(q),J=!!(R&&R.createEvent&&c.dispatchEvent),W=D(N,(function(){var e=H($)!==String($);if(66===j)return!0;if(!e&&!Z&&"function"!=typeof PromiseRejectionEvent)return!0;if(u&&!$.prototype.finally)return!0;if(j>=51&&/native code/.test($))return!1;var t=$.resolve(1),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[O]=n,!(t.then((function(){}))instanceof n)})),Y=W||!F((function(e){$.all(e).catch((function(){}))})),K=function(e){var t;return!(!v(e)||"function"!=typeof(t=e.then))&&t},Q=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;_((function(){for(var i=t.value,o=1==t.state,s=0;r.length>s;){var a,u,c,l=r[s++],d=o?l.ok:l.fail,p=l.resolve,f=l.reject,h=l.domain;try{d?(o||(2===t.rejection&&ne(e,t),t.rejection=1),!0===d?a=i:(h&&h.enter(),a=d(i),h&&(h.exit(),c=!0)),a===l.promise?f(z("Promise-chain cycle")):(u=K(a))?u.call(a,p,f):p(a)):f(i)}catch(e){h&&!c&&h.exit(),f(e)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ee(e,t)}))}},X=function(e,t,n){var r,i;J?((r=R.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},(i=c["on"+e])?i(r):"unhandledrejection"===e&&A("Unhandled promise rejection",n)},ee=function(e,t){E.call(c,(function(){var n,r=t.value;if(te(t)&&(n=P((function(){Z?q.emit("unhandledRejection",r,e):X("unhandledrejection",e,r)})),t.rejection=Z||te(t)?2:1,n.error))throw n.value}))},te=function(e){return 1!==e.rejection&&!e.parent},ne=function(e,t){E.call(c,(function(){Z?q.emit("rejectionHandled",e):X("rejectionhandled",e,t.value)}))},re=function(e,t,n,r){return function(i){e(t,n,i,r)}},ie=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Q(e,t,!0))},oe=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw z("Promise can't be resolved itself");var i=K(n);i?_((function(){var r={done:!1};try{i.call(n,re(oe,e,r,t),re(ie,e,r,t))}catch(n){ie(e,r,n,t)}})):(t.value=n,t.state=1,Q(e,t,!1))}catch(n){ie(e,{done:!1},n,t)}}};W&&($=function(e){x(this,$,N),y(e),r.call(this);var t=I(this);try{e(re(oe,this,t),re(ie,this,t))}catch(e){ie(this,t,e)}},(r=function(e){k(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f($.prototype,{then:function(e,t){var n=B(this),r=V(w(this,$));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Z?q.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=I(e);this.promise=e,this.resolve=re(oe,e,t),this.reject=re(ie,e,t)},M.f=V=function(e){return e===$||e===o?new i(e):G(e)},u||"function"!=typeof d||(s=d.prototype.then,p(d.prototype,"then",(function(e,t){var n=this;return new $((function(e,t){s.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof U&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return L($,U.apply(c,arguments))}}))),a({global:!0,wrap:!0,forced:W},{Promise:$}),m($,N,!1,!0),g(N),o=l(N),a({target:N,stat:!0,forced:W},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),a({target:N,stat:!0,forced:u||W},{resolve:function(e){return L(u&&this===o?$:this,e)}}),a({target:N,stat:!0,forced:Y},{all:function(e){var t=this,n=V(t),r=n.resolve,i=n.reject,o=P((function(){var n=y(t.resolve),o=[],s=0,a=1;b(e,(function(e){var u=s++,c=!1;o.push(void 0),a++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--a||r(o))}),i)})),--a||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=V(t),r=n.reject,i=P((function(){var i=y(t.resolve);b(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(0),i=n(15).f,o=n(9),s=n(17),a=n(18),u=n(34),c=n(36);e.exports=function(e,t){var n,l,d,p,f,h=e.target,m=e.global,g=e.stat;if(n=m?r:g?r[h]||a(h,{}):(r[h]||{}).prototype)for(l in t){if(p=t[l],d=e.noTargetGet?(f=i(n,l))&&f.value:n[l],!c(m?l:h+(g?".":"#")+l,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(e.sham||d&&d.sham)&&o(p,"sham",!0),s(n,l,p,e)}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(4),i=n(7),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(3);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(6),i=n(4),o=n(28);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(0),i=n(3),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},function(e,t){e.exports=!1},function(e,t,n){var r=n(11);e.exports=r("native-function-to-string",Function.toString)},function(e,t,n){var r,i,o,s=n(50),a=n(0),u=n(3),c=n(9),l=n(5),d=n(51),p=n(33),f=a.WeakMap;if(s){var h=new f,m=h.get,g=h.has,v=h.set;r=function(e,t){return v.call(h,e,t),t},i=function(e){return m.call(h,e)||{}},o=function(e){return g.call(h,e)}}else{var y=d("state");p[y]=!0,r=function(e,t){return c(e,y,t),t},i=function(e){return l(e,y)?e[y]:{}},o=function(e){return l(e,y)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var r=n(5),i=n(52),o=n(15),s=n(10);e.exports=function(e,t){for(var n=i(t),a=s.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||a(e,l,u(t,l))}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(4),i=/#|\.prototype\./,o=function(e,t){var n=a[s(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t){e.exports={}},function(e,t,n){var r,i,o,s=n(0),a=n(4),u=n(7),c=n(20),l=n(73),d=n(28),p=n(39),f=s.location,h=s.setImmediate,m=s.clearImmediate,g=s.process,v=s.MessageChannel,y=s.Dispatch,x=0,S={},b=function(e){if(S.hasOwnProperty(e)){var t=S[e];delete S[e],t()}},F=function(e){return function(){b(e)}},w=function(e){b(e.data)},E=function(e){s.postMessage(e+"",f.protocol+"//"+f.host)};h&&m||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return S[++x]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(x),x},m=function(e){delete S[e]},"process"==u(g)?r=function(e){g.nextTick(F(e))}:y&&y.now?r=function(e){y.now(F(e))}:v&&!p?(o=(i=new v).port2,i.port1.onmessage=w,r=c(o.postMessage,o,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||a(E)?r="onreadystatechange"in d("script")?function(e){l.appendChild(d("script")).onreadystatechange=function(){l.removeChild(this),b(e)}}:function(e){setTimeout(F(e),0)}:(r=E,s.addEventListener("message",w,!1))),e.exports={set:h,clear:m}},function(e,t,n){var r=n(40);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(12);e.exports=r("navigator","userAgent")||""},function(e,t,n){"use strict";var r=n(13),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(21);class r{constructor(){}signup(e,t,n){return fetch("http://localhost:3000/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:""+e,password:""+t,name:""+n})})}signin(e,t){return fetch("http://localhost:3000/signin",{method:"POST",credentials:"include",withCredentials:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify({email:""+e,password:""+t})})}signout(){return fetch("http://localhost:3000/signout",{method:"POST",credentials:"include",withCredentials:!0,headers:{"Content-Type":"application/json"}})}createArticle(e,t,n,r,i,o,s){return fetch("http://localhost:3000/articles",{method:"POST",credentials:"include",withCredentials:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword:""+e,title:""+t,text:""+n,date:""+r,source:""+i,link:""+o,image:""+s})})}getUserData(){return fetch("http://localhost:3000/users/me",{method:"GET",credentials:"include",withCredentials:!0,headers:{authorization:document.cookie,"Content-Type":"application/json"}})}getArticles(){return fetch("http://localhost:3000/articles",{method:"GET",credentials:"include",withCredentials:!0})}removeArticle(e){return fetch("http://localhost:3000/articles/"+e,{method:"DELETE",credentials:"include",withCredentials:!0,headers:{"Content-Type":"application/json"}})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(e,t){this.headerButton=t,this.authorizButton=e.authorizButton,this.headerMenu=e.headerMenu,this.savedArticlesButton=e.savedArticlesButton}render(e){"true"===e.isLoggedIn?(this.savedArticlesButton.classList.add("display"),this.headerButton.value=e.userName+" [🡢",this.headerButton.classList.remove("none-display"),this.hiddenAuthorizButton()):"false"===e.isLoggedIn&&(this.savedArticlesButton.classList.remove("display"),this.headerButton.classList.add("none-display"),this.authorizButton.classList.remove("none-display"))}hiddenAuthorizButton(){this.authorizButton&&this.authorizButton.classList.add("none-display")}menuOpen(e){this.headerMenu.classList.toggle("display"),e.target.classList.toggle("header__menu-closer")}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const r=n(79);class i{constructor(e,t,n){this.logProps=e,this.searchField=t,this.mainApi=n}setMessage(){let e="";return"true"===this.logProps.isLoggedIn&&"main"===this.logProps.page?e="Сохранить":"false"===this.logProps.isLoggedIn&&"main"===this.logProps.page?e="Войдите, чтобы сохранять статьи":"true"===this.logProps.isLoggedIn&&"saved"===this.logProps.page&&(e="Удалить"),e}renderIcon(e){e.classList.toggle("saved-card")}setClassnameIcon(){return"main"===this.logProps.page?"card__button_save":"saved"===this.logProps.page?"card__button_delete":void 0}createCard(e,t,n,i,o,s,a,u){const c=document.createElement("div");c.classList.add("card"),c.id=u,i="main"===this.logProps.page?r(i,"dd mmmm, yyyy"):i;const l=this.setMessage(),d=this.setClassnameIcon(),p="main"===this.logProps.page?"":`<h4 class="card__keyword"> ${e} </h4>`;return c.insertAdjacentHTML("afterbegin",`<a class = 'card__link' href=${s} target = 'new'>\n        <div class="card__head">\n          <img src="${a}" class="card__image" alt="картинка к новости">\n          <div class="card__button ${d}" data-title='${l}'></div>\n           ${p}\n        </div>\n\n        <div class="card__details">\n          <p class="card__date"> ${i} </p>\n          <h3 class="card__title"> ${t} </h3>\n          <p class="card__text"> ${n} </p>\n          <p class="card__source"> ${o} </p>\n      </div>\n    </a>`),c}savedCard(e){if(e.target.classList.contains("card__button")){e.preventDefault();const t=e.target.parentNode.parentNode,n=this.searchField.value,r=t.querySelector(".card__title").textContent,i=t.querySelector(".card__text").textContent,o=t.querySelector(".card__date").textContent,s=t.querySelector(".card__source").textContent,a=t.href,u=t.querySelector(".card__image").src;this.mainApi.createArticle(n,r,i,o,s,a,u).then(t=>{t.ok&&this.renderIcon(e.target)})}}deleteCard(e){const t=e.target.parentNode.parentNode.parentNode;if(e.target.classList.contains("card__button")){e.preventDefault();const n=t.id;this.mainApi.removeArticle(n).then(e=>{e.ok&&t.parentNode.removeChild(t)}).catch(e=>{console.log(e)})}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(80),n(81);var r=n(1);class i{constructor(e,t,n,r){this.container=e,this.cardClass=t,this.pageTitle=n,this.pageSubtitle=r,this.keywordArr=[]}renderResults(e){const t=this.container,n="main"===r.logProps.page;t.innerHTML="",e.articles.forEach(e=>{const r=e.keyword,i=n?e.urlToImage:e.image,o=n?e.publishedAt:e.date,{title:s}=e,a=n?e.description:e.text,u=n?e.source.name:e.source,c=n?e.url:e.link,l=e._id,d=this.cardClass.createCard(r,s,a,o,u,c,i,l);this.addCard(t,d),this.renderSubtitle(r)}),this.renderArticlesInfo(e.articles.length)}renderArticlesInfo(e){"saved"===r.logProps.page&&(this.pageTitle.textContent=`${r.logProps.userName}, у вас ${e} сохранённых статей`)}renderSubtitle(e){if("saved"===r.logProps.page){this.keywordArr.push(e),this.keywordArr=this.keywordArr.sort().filter((e,t)=>e!==this.keywordArr[t+1]);const t=this.keywordArr.length<=3?this.keywordArr[2]:this.keywordArr.length-2+" другим";this.pageSubtitle.textContent=`По ключевым словам ${this.keywordArr[0]}, ${this.keywordArr[1]} и ${t}`}}addCard(e,t){e.appendChild(t)}}},function(e,t,n){},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(0),i=n(18),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,n){var r=n(0),i=n(30),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i.call(o))},function(e,t,n){var r=n(11),i=n(32),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var r=n(12),i=n(54),o=n(59),s=n(8);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(s(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){e.exports=n(0)},function(e,t,n){var r=n(55),i=n(58).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(5),i=n(16),o=n(56).indexOf,s=n(33);e.exports=function(e,t){var n,a=i(e),u=0,c=[];for(n in a)!r(s,n)&&r(a,n)&&c.push(n);for(;t.length>u;)r(a,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(16),i=n(19),o=n(57),s=function(e){return function(t,n,s){var a,u=r(t),c=i(u.length),l=o(s,c);if(e&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},function(e,t,n){var r=n(35),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(0);e.exports=r.Promise},function(e,t,n){var r=n(17);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(10).f,i=n(5),o=n(2)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(4);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(e,t,n){"use strict";var r=n(12),i=n(10),o=n(2),s=n(6),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(8),i=n(67),o=n(19),s=n(20),a=n(68),u=n(70),c=function(e,t){this.stopped=e,this.result=t};(e.exports=function(e,t,n,l,d){var p,f,h,m,g,v,y,x=s(t,n,l?2:1);if(d)p=e;else{if("function"!=typeof(f=a(e)))throw TypeError("Target is not iterable");if(i(f)){for(h=0,m=o(e.length);m>h;h++)if((g=l?x(r(y=e[h])[0],y[1]):x(e[h]))&&g instanceof c)return g;return new c(!1)}p=f.call(e)}for(v=p.next;!(y=v.call(p)).done;)if("object"==typeof(g=u(p,x,y.value,l))&&g&&g instanceof c)return g;return new c(!1)}).stop=function(e){return new c(!0,e)}},function(e,t,n){var r=n(2),i=n(37),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},function(e,t,n){var r=n(69),i=n(37),o=n(2)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(7),i=n(2)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){var r=n(8);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(2)("iterator"),i=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){i=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){var r=n(8),i=n(13),o=n(2)("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||null==(n=r(s)[o])?t:i(n)}},function(e,t,n){var r=n(12);e.exports=r("document","documentElement")},function(e,t,n){var r,i,o,s,a,u,c,l,d=n(0),p=n(15).f,f=n(7),h=n(38).set,m=n(39),g=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,x="process"==f(v),S=p(d,"queueMicrotask"),b=S&&S.value;b||(r=function(){var e,t;for(x&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?s():o=void 0,e}}o=void 0,e&&e.enter()},x?s=function(){v.nextTick(r)}:g&&!m?(a=!0,u=document.createTextNode(""),new g(r).observe(u,{characterData:!0}),s=function(){u.data=a=!a}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,s=function(){l.call(c,r)}):s=function(){h.call(d,r)}),e.exports=b||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,s()),o=t}},function(e,t,n){var r=n(8),i=n(3),o=n(41);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){var r=n(0);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){var r,i,o=n(0),s=n(40),a=o.process,u=a&&a.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:s&&(!(r=s.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r;!function(i){"use strict";var o,s,a,u=(o=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,s=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,function(e,t,n,r){if(1!==arguments.length||"string"!==p(e)||/\d/.test(e)||(t=e,e=void 0),(e=e||new Date)instanceof Date||(e=new Date(e)),isNaN(e))throw TypeError("Invalid date");var i=(t=String(u.masks[t]||t||u.masks.default)).slice(0,4);"UTC:"!==i&&"GMT:"!==i||(t=t.slice(4),n=!0,"GMT:"===i&&(r=!0));var f=n?"getUTC":"get",h=e[f+"Date"](),m=e[f+"Day"](),g=e[f+"Month"](),v=e[f+"FullYear"](),y=e[f+"Hours"](),x=e[f+"Minutes"](),S=e[f+"Seconds"](),b=e[f+"Milliseconds"](),F=n?0:e.getTimezoneOffset(),w=l(e),E=d(e),_={d:h,dd:c(h),ddd:u.i18n.dayNames[m],dddd:u.i18n.dayNames[m+7],m:g+1,mm:c(g+1),mmm:u.i18n.monthNames[g],mmmm:u.i18n.monthNames[g+12],yy:String(v).slice(2),yyyy:v,h:y%12||12,hh:c(y%12||12),H:y,HH:c(y),M:x,MM:c(x),s:S,ss:c(S),l:c(b,3),L:c(Math.round(b/10)),t:y<12?u.i18n.timeNames[0]:u.i18n.timeNames[1],tt:y<12?u.i18n.timeNames[2]:u.i18n.timeNames[3],T:y<12?u.i18n.timeNames[4]:u.i18n.timeNames[5],TT:y<12?u.i18n.timeNames[6]:u.i18n.timeNames[7],Z:r?"GMT":n?"UTC":(String(e).match(s)||[""]).pop().replace(a,""),o:(F>0?"-":"+")+c(100*Math.floor(Math.abs(F)/60)+Math.abs(F)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:w,N:E};return t.replace(o,(function(e){return e in _?_[e]:e.slice(1,e.length-1)}))});function c(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function l(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var i=(t-n)/6048e5;return 1+Math.floor(i)}function d(e){var t=e.getDay();return 0===t&&(t=7),t}function p(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}u.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},u.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","января","февраля","марта","апреля","мaя","июня","июля","августа","сентября","октября","ноября","декабря"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(r=function(){return u}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(22),i=n(6),o=n(0),s=n(5),a=n(3),u=n(10).f,c=n(34),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};c(p,l);var f=p.prototype=l.prototype;f.constructor=p;var h=f.toString,m="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=h.call(e);if(s(d,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},function(e,t,n){var r=n(0),i=n(82),o=n(83),s=n(9);for(var a in i){var u=r[a],c=u&&u.prototype;if(c&&c.forEach!==o)try{s(c,"forEach",o)}catch(e){c.forEach=o}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(84).forEach,i=n(88);e.exports=i("forEach")?function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(e,t,n){var r=n(20),i=n(24),o=n(85),s=n(19),a=n(86),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,d=6==e,p=5==e||d;return function(f,h,m,g){for(var v,y,x=o(f),S=i(x),b=r(h,m,3),F=s(S.length),w=0,E=g||a,_=t?E(f,F):n?E(f,0):void 0;F>w;w++)if((p||w in S)&&(y=b(v=S[w],w,x),e))if(t)_[w]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return w;case 2:u.call(_,v)}else if(l)return!1;return d?-1:c||l?l:_}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(e,t,n){var r=n(25);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(3),i=n(87),o=n(2)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(7);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";var r=n(4);e.exports=function(e,t){var n=[][e];return!n||!r((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){e.exports=function(){"use strict";function e(){this.scheme="",this.valid=!1}function t(e){this.strength=e,this.points=0,this.isMinimum=!1,this.hasLower=!1,this.hasUpper=!1,this.hasNumber=!1,this.hasSpecial=!1,this.isBonus=!1,this.percent=0,this.valid=!1,this.errors=[]}var n={message:"{title} is not a valid credit card number",schemes:[{regex:/^(5610|560221|560222|560223|560224|560225)/,scheme:"Australian Bank Card"},{regex:/^(2014|2149)/,scheme:"Diner's Club"},{regex:/^36/,scheme:"Diner's Club International"},{regex:/^(30[0-5]|36|38|54|55|2014|2149)/,scheme:"Diner's Club / Carte Blanche"},{regex:/^35(2[89]|[3-8][0-9])/,scheme:"Japanese Credit Bureau"},{regex:/^(5018|5020|5038|6304|6759|676[1-3])/,scheme:"Maestro"},{regex:/^5[1-5]/,scheme:"Mastercard"},{regex:/^(6304|670[69]|6771)/,scheme:"Laser"},{regex:/^(6334|6767)/,scheme:"Solo (Paymentech)"},{regex:/^(6011|622|64|65)/,scheme:"Discover"},{regex:/^3[47]/,scheme:"American Express"},{regex:/^(4026|417500|4508|4844|491(3|7))/,scheme:"Visa Electron"},{regex:/^(4)/,scheme:"Visa"}],_getScheme:function(e){e=(""+e).replace(/\D/g,"");for(var t=this.schemes.length;t--;)if(this.schemes[t].regex.test(e))return this.schemes[t].scheme},validate:function(t){t=(""+t).replace(/\D/g,"");var n,r=new e,i=t.length,o=0,s=1;if(i<12)return!1;for(;i--;)o+=(n=t.charAt(i)*s)-9*(n>9),s^=3;return r.valid=o%10==0&&o>0,r.scheme=this._getScheme(t),r}},r={minimum:8,minimumBonus:10,strengths:{0:"Very Weak",1:"Weak",2:"Better",3:"Almost",4:"Acceptable",5:"Strong",6:"Very Strong"},message:"{title} did not pass the strength test.",expects:["min","bonus"],errors:{isMinimum:"{title} must be at least {min} characters",hasLower:"{title} must have at least 1 lower case character",hasUpper:"{title} must have at least 1 upper case character",hasNumber:"{title} must have at least 1 number",hasSpecial:"{title} must have at least 1 special character"},_getScore:function(e){var n=new t(this.strengths[0]);return e.length>this.minimumBonus?(n.points+=2,n.isBonus=!0,n.isMinimum=!0):e.length>this.minimum?(n.points++,n.isMinimum=!0):(n.points=1,n.isMinimum=!1),n.hasLower=null!==e.match(/[a-z]/),n.isMinimum&&n.hasLower&&n.points++,n.hasUpper=null!==e.match(/[A-Z]/),n.isMinimum&&n.hasUpper&&n.points++,n.hasNumber=null!==e.match(/\d+/),n.isMinimum&&n.hasNumber&&n.points++,n.hasSpecial=null!==e.match(/.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/),n.isMinimum&&n.hasSpecial&&n.points++,n.percent=Math.ceil(n.points/6*100),n},_getStrength:function(e){var t=this._getScore(e);return t.strength=this.strengths[t.points],t.isMinimum||t.errors.push(this.errors.isMinimum),t.hasLower||t.errors.push(this.errors.hasLower),t.hasUpper||t.errors.push(this.errors.hasUpper),t.hasSpecial||t.errors.push(this.errors.hasSpecial),t.hasNumber||t.errors.push(this.errors.hasNumber),t.points>4&&(t.valid=!0),t},validate:function(e,t){if(this.minimum=t.min||this.minimum,this.minimumBonus=t.bonus||this.minimumBonus,t.hasOwnProperty("config")&&t.config.hasOwnProperty("messages"))for(var n in t.config.messages)t.config.messages.hasOwnProperty(n)&&(this.errors[n]=t.config.messages[n]);return this._getStrength(e)}},i=function(){this.approved=!0,this.errors=[],this.failed=[],this.each=function(e){for(var t=e&&e.constructor&&e.call&&e.apply,n=this.errors.length;n--;)t&&e(this.errors[n])},this.filter=function(e,t){var n=t&&t.constructor&&t.call&&t.apply,r=0;if(this.hasOwnProperty(e))for(r=this[e].errors.length;r--;)n&&t(this[e].errors[r])}};return{tests:{required:{validate:function(e){return!!e},message:"{title} is required",expects:!1},email:{regex:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,validate:function(e){return this.regex.test(e)},message:"{title} must be a valid email address",expects:!1},url:{regex:/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/i,validate:function(e){return this.regex.test(e)},message:"{title} must be a valid web address",expects:!1},alphaNumeric:{regex:/^[A-Za-z0-9]+$/i,validate:function(e){return this.regex.test(e)},message:"{title} may only contain [A-Za-z] and [0-9]",expects:!1},numeric:{regex:/^-?[0-9]+$/,validate:function(e){return this.regex.test(e)},message:"{title} may only contain [0-9]",expects:!1},alpha:{regex:/^[A-Za-z]+$/,validate:function(e){return this.regex.test(e)},message:"{title} may only contain [A-Za-z]",expects:!1},decimal:{regex:/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/,validate:function(e){return this.regex.test(e)},message:"{title} must be a valid decimal",expects:!1},currency:{regex:/^\s*(\+|-)?((\d+(\.\d\d)?)|(\.\d\d))\s*$/,validate:function(e){return this.regex.test(e)},message:"{title} must be a valid currency value",expects:!1},ip:{regex:{ipv4:/^(?:(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}(?:\d|[1-9]\d|1\d{2}|2[0-4]\d|25[0-5])$/,ipv4Cidr:/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])(\/([0-9]|[1-2][0-9]|3[0-2]))$/,ipv6:/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,ipv6Cidr:/^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*(\/([0-9]|[1-9][0-9]|1[0-1][0-9]|12[0-8]))?$/},validate:function(e){return this.regex.ipv4.test(e)||this.regex.ipv6.test(e)||this.regex.ipv4Cidr.test(e)||this.regex.ipv6Cidr.test(e)},message:"{title} must be a valid IP address",expects:!1},min:{validate:function(e,t){return"string"==typeof e&&e.length>=t.min},message:"{title} must be a minimum of {min} characters",expects:["min"]},max:{validate:function(e,t){return"string"==typeof e&&e.length<=t.max},message:"{title} must be a maximum of {max} characters",expects:["max"]},range:{validate:function(e,t){return"string"==typeof e?e.length>=t.min&&e.length<=t.max:"number"==typeof e&&e>=t.min&&e<=t.max},message:"{title} must be a minimum of {min} and a maximum of {max} characters",expects:["min","max"]},equal:{validate:function(e,t){return""+e==""+t.value},message:"{title} must be equal to {field}",expects:["value","field"]},format:{validate:function(e,t){if("[object RegExp]"===Object.prototype.toString.call(t.regex))return t.regex.test(e);throw"approve.value(): [format] - regex is not a valid regular expression."},message:"{title} did not pass the [{regex}] test",expects:["regex"]},time:{regex:/^(2[0-3]|[01]?[0-9]):([0-5]?[0-9]):([0-5]?[0-9])$/,validate:function(e){return this.regex.test(e)},message:"{title} is not a valid time",expects:!1},date:{formats:{ymd:/^(?:\2)(?:[0-9]{2})?[0-9]{2}([\/-])(1[0-2]|0?[1-9])([\/-])(3[01]|[12][0-9]|0?[1-9])$/,dmy:/^(3[01]|[12][0-9]|0?[1-9])([\/-])(1[0-2]|0?[1-9])([\/-])(?:[0-9]{2})?[0-9]{2}$/},validate:function(e,t){return this.formats[t.format].test(e)},message:"{title} is not a valid date",expects:["format"]},truthy:{regex:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/i,validate:function(e){return this.regex.test(e)},message:"{title} is not valid",expects:!1},falsy:{regex:/^(?:1|t(?:rue)?|y(?:es)?|ok(?:ay)?)$/i,validate:function(e){return!this.regex.test(e)},message:"{title} is not valid",expects:!1},cc:n,strength:r},_format:function(e,t){return t="object"==typeof t?t:Array.prototype.slice.call(arguments,1),e.replace(/\{\{|\}\}|\{(\w+)\}/g,(function(e,n){return"{{"===e?"{":"}}"===e?"}":t[n]})).trim()},_isRule:function(e){return["title","stop","ignoreNull"].indexOf(e)<0},_start:function(e,t){var n=new i,r="",o=!1,s=!1;for(var a in t.hasOwnProperty("title")&&(r=t.title),t.hasOwnProperty("stop")&&(o=t.stop),t.hasOwnProperty("ignoreNull")&&(s=t.ignoreNull),t){if(o&&!n.approved)break;if(t.hasOwnProperty(a)&&this._isRule(a)){var u=t[a];if(!this.tests.hasOwnProperty(a))throw"approve.value(): "+a+" test not defined.";var c={constraint:u,rule:a,title:r,test:this.tests[a],value:e,ignoreNull:s};this._test(c,n)}}return n},_test:function(e,t){if(!e.hasOwnProperty("ignoreNull")||e.value||!e.ignoreNull){var n=this._getArgs(e),r=e.test.validate(e.value,n);if(t[e.rule]={approved:!0,errors:[]},"object"==typeof r){if(t.approved=!!r.valid&&t.approved,t[e.rule].approved=r.valid,r.hasOwnProperty("errors")){var i=this._formatMessages(r.errors,e);t.errors=t.errors.concat(i),t[e.rule].errors=i}for(var o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[e.rule][o]=r[o])}else{if("boolean"!=typeof r)throw"approve.value(): "+e.rule+" returned an invalid value";t.approved=!!r&&t.approved,t[e.rule].approved=r}if(!t.approved){var s=this._formatMessage(e);t.errors.push(s),t[e.rule].errors.push(s)}r.valid||t.failed.push(e.rule)}},_eachExpected:function(e,t){if(Array.isArray(e.test.expects))for(var n=e.test.expects.length,r=n;r--;)t(e.test.expects[r],n)},_getArgs:function(e){var t={};return this._eachExpected(e,(function(n,r){if(e.constraint.hasOwnProperty(n))t[n]=e.constraint[n];else{if(!(r<=1)||!/^[A-Za-z0-9]+$/i.test(e.constraint)&&"[object RegExp]"!==toString.call(e.constraint))throw"approve.value(): "+e.rule+" expects the "+n+" parameter.";t[n]=e.constraint}})),e.constraint.hasOwnProperty("config")&&(t.config=e.constraint.config),t},_getFormat:function(e){var t={};return this._eachExpected(e,(function(n){e.constraint.hasOwnProperty(n)&&(t[n]=e.constraint[n]),/^[A-Za-z0-9]+$/i.test(e.constraint)&&(t[n]=e.constraint)})),t.title=e.title,t},_formatMessages:function(e,t){for(var n=this._getFormat(t),r=e.length;r--;)e[r]=this._format(e[r],n);return e},_formatMessage:function(e){var t,n=this._getFormat(e);return e.constraint.hasOwnProperty("message")?(t=e.constraint.message,this._format(t,n)):(t=e.test.message,this._format(t,n))},value:function(e,t){if("object"!=typeof t)throw"approve.value(value, rules): rules is not a valid object.";return this._start(e,t)},addTest:function(e,t){if("object"!=typeof e)throw"approve.addTest(obj, name): obj is not a valid object.";try{this.tests.hasOwnProperty(t)||(this.tests[t]=e)}catch(e){throw"approve.addTest(): "+e.message}}}}()},function(e,t,n){"use strict";n.r(t),n.d(t,"banish",(function(){return s})),n.d(t,"loginCheck",(function(){return a})),n.d(t,"signout",(function(){return u})),n.d(t,"searchNews",(function(){return c})),n.d(t,"actualDate",(function(){return p}));var r=n(1),i=n(14);function o(){r.logProps.isLoggedIn=localStorage.getItem("isloggedIn"),r.logProps.userName=localStorage.getItem("userName")}function s(){"false"===r.logProps.isLoggedIn&&(document.location.href="index.html")}function a(){i.mainApi.getUserData().then(e=>{e.ok?e.json().then(e=>{localStorage.setItem("isloggedIn",!0),localStorage.setItem("userName",e.data.name),o(),i.header.render(r.logProps)}):(localStorage.setItem("isloggedIn",!1),localStorage.setItem("userName",void 0),o(),i.header.render(r.logProps))})}function u(){i.mainApi.signout().then(e=>{"saved"===r.logProps.page&&(document.location.href="index.html"),e.ok&&(localStorage.setItem("isloggedIn",!1),localStorage.setItem("userName",void 0),o(),i.header.render(r.logProps))}).catch(()=>{console.log("ошибка при выходе из аккаунта")})}function c(e){i.newsApi.getNews(e)}function l(e){return e>=0&&e<=9?"0"+e:e}const d=new Date,p=`${l(d.getFullYear())}-${l(d.getMonth()+1)}-${l(d.getDate()-7)}`}]);